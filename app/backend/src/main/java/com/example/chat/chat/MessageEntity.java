package com.example.chat.chat; import com.example.chat.user.*; import jakarta.persistence.*; import java.time.*; @Entity @Table(name="message", uniqueConstraints=@UniqueConstraint(columnNames={"room_id","server_seq"})) public class MessageEntity{ @Id @GeneratedValue(strategy=GenerationType.IDENTITY) Long id; @ManyToOne(fetch=FetchType.LAZY) @JoinColumn(name="room_id",nullable=false) ChatRoomEntity room; @ManyToOne(fetch=FetchType.LAZY) @JoinColumn(name="sender_id",nullable=false) UserEntity sender; @Column(nullable=false) long serverSeq; @Column(nullable=false,columnDefinition="text") String text; @Column(nullable=false) Instant createdAt=Instant.now(); public Long getId(){return id;} public ChatRoomEntity getRoom(){return room;} public void setRoom(ChatRoomEntity v){room=v;} public UserEntity getSender(){return sender;} public void setSender(UserEntity v){sender=v;} public long getServerSeq(){return serverSeq;} public void setServerSeq(long v){serverSeq=v;} public String getText(){return text;} public void setText(String v){text=v;} }